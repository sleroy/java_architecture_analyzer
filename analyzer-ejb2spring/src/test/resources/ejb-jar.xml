<?xml version="1.0"?>
<!DOCTYPE ejb-jar PUBLIC "-//Sun Microsystems, Inc.//DTD Enterprise JavaBeans 2.0//EN" "http://java.sun.com/dtd/ejb-jar_2_0.dtd">
<ejb-jar>
    <enterprise-beans>
        <!-- Standard beans with Remote/Home interfaces -->
        <session>
            <ejb-name>OrderUpdateService</ejb-name>
            <home>com.example.app.service.order.update.OrderUpdateServiceHome</home>
            <remote>com.example.app.service.order.update.OrderUpdateService</remote>
            <ejb-class>com.example.app.service.order.update.OrderUpdateServiceBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <env-entry>
                <env-entry-name>policy</env-entry-name>
                <env-entry-type>java.lang.String</env-entry-type>
                <env-entry-value>OrderUpdateService</env-entry-value>
            </env-entry>
        </session>
        <session>
            <ejb-name>OrderCreateService</ejb-name>
            <home>com.example.app.service.order.create.OrderCreateServiceHome</home>
            <remote>com.example.app.service.order.create.OrderCreateService</remote>
            <ejb-class>com.example.app.service.order.create.OrderCreateServiceBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <env-entry>
                <env-entry-name>policy</env-entry-name>
                <env-entry-type>java.lang.String</env-entry-type>
                <env-entry-value>OrderCreateService</env-entry-value>
            </env-entry>
        </session>
        <session>
            <ejb-name>OrderRetrievalService</ejb-name>
            <home>com.example.app.service.order.retrieve.OrderRetrieveServiceHome</home>
            <remote>com.example.app.service.order.retrieve.OrderRetrieveService</remote>
            <ejb-class>com.example.app.service.order.retrieve.OrderRetrieveServiceBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <env-entry>
                <env-entry-name>policy</env-entry-name>
                <env-entry-type>java.lang.String</env-entry-type>
                <env-entry-value>OrderRetrievalService</env-entry-value>
            </env-entry>
        </session>
        
        <!-- Bean demonstrating class reuse pattern #1: OrderRetrieveServiceBean used by 2 beans -->
        <session>
            <ejb-name>OrderHistoryRetrievalService</ejb-name>
            <home>com.example.app.service.order.retrieve.OrderRetrieveServiceHome</home>
            <remote>com.example.app.service.order.retrieve.OrderRetrieveService</remote>
            <ejb-class>com.example.app.service.order.retrieve.OrderRetrieveServiceBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <env-entry>
                <env-entry-name>policy</env-entry-name>
                <env-entry-type>java.lang.String</env-entry-type>
                <env-entry-value>OrderHistoryRetrievalService</env-entry-value>
            </env-entry>
        </session>
        
        <session>
            <ejb-name>OrderPaymentService</ejb-name>
            <home>com.example.app.service.order.payment.OrderPaymentServiceHome</home>
            <remote>com.example.app.service.order.payment.OrderPaymentService</remote>
            <ejb-class>com.example.app.service.order.payment.OrderPaymentServiceBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <env-entry>
                <env-entry-name>policy</env-entry-name>
                <env-entry-type>java.lang.String</env-entry-type>
                <env-entry-value>OrderPaymentService</env-entry-value>
            </env-entry>
        </session>
        
        <!-- Bean demonstrating class reuse pattern #2: OrderBookServiceBean used by 3 beans -->
        <session>
            <ejb-name>OrderBookService</ejb-name>
            <home>com.example.app.service.order.book.OrderBookServiceHome</home>
            <remote>com.example.app.service.order.book.OrderBookService</remote>
            <ejb-class>com.example.app.service.order.book.OrderBookServiceBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <env-entry>
                <env-entry-name>policy</env-entry-name>
                <env-entry-type>java.lang.String</env-entry-type>
                <env-entry-value>OrderBookService</env-entry-value>
            </env-entry>
        </session>
        
        <session>
            <ejb-name>OrderSyncService</ejb-name>
            <home>com.example.app.service.order.sync.OrderSyncServiceHome</home>
            <remote>com.example.app.service.order.sync.OrderSyncService</remote>
            <ejb-class>com.example.app.service.order.sync.OrderSyncServiceBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <env-entry>
                <env-entry-name>policy</env-entry-name>
                <env-entry-type>java.lang.String</env-entry-type>
                <env-entry-value>OrderSyncService</env-entry-value>
            </env-entry>
        </session>
        
        <!-- Local beans demonstrating shared interface pattern: LocalServiceHome/LocalService used by 4 beans -->
        <session>
            <ejb-name>LocalOrderSyncService</ejb-name>
            <local-home>com.example.framework.messaging.LocalServiceHome</local-home>
            <local>com.example.framework.messaging.LocalService</local>
            <ejb-class>com.example.app.service.order.sync.OrderSyncServiceBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <env-entry>
                <env-entry-name>policy</env-entry-name>
                <env-entry-type>java.lang.String</env-entry-type>
                <env-entry-value>OrderSyncService</env-entry-value>
            </env-entry>
        </session>
        <session>
            <ejb-name>LocalOrderPriceService</ejb-name>
            <local-home>com.example.framework.messaging.LocalServiceHome</local-home>
            <local>com.example.framework.messaging.LocalService</local>
            <ejb-class>com.example.app.service.order.book.OrderBookServiceBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <env-entry>
                <env-entry-name>policy</env-entry-name>
                <env-entry-type>java.lang.String</env-entry-type>
                <env-entry-value>OrderPriceService</env-entry-value>
            </env-entry>
        </session>
        <session>
            <ejb-name>LocalOrderBookService</ejb-name>
            <local-home>com.example.framework.messaging.LocalServiceHome</local-home>
            <local>com.example.framework.messaging.LocalService</local>
            <ejb-class>com.example.app.service.order.book.OrderBookServiceBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <env-entry>
                <env-entry-name>policy</env-entry-name>
                <env-entry-type>java.lang.String</env-entry-type>
                <env-entry-value>OrderBookService</env-entry-value>
            </env-entry>
        </session>
        
        <session>
            <ejb-name>OrderSearchService</ejb-name>
            <home>com.example.app.service.order.search.OrderSearchServiceHome</home>
            <remote>com.example.app.service.order.search.OrderSearchService</remote>
            <ejb-class>com.example.app.service.order.search.OrderSearchServiceBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <env-entry>
                <env-entry-name>policy</env-entry-name>
                <env-entry-type>java.lang.String</env-entry-type>
                <env-entry-value>OrderSearchService</env-entry-value>
            </env-entry>
        </session>
        
        <!-- Beans demonstrating class reuse pattern #3: OrderSearchHandlerBean used by 2 beans -->
        <session>
            <ejb-name>OrderSearch</ejb-name>
            <home>com.example.app.service.order.search.OrderSearchHandlerHome</home>
            <remote>com.example.app.service.order.search.OrderSearchHandler</remote>
            <ejb-class>com.example.app.service.order.search.OrderSearchHandlerBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <env-entry>
                <env-entry-name>policy</env-entry-name>
                <env-entry-type>java.lang.String</env-entry-type>
                <env-entry-value>OrderSearch</env-entry-value>
            </env-entry>
        </session>
        <session>
            <ejb-name>LocalOrderSearch</ejb-name>
            <local-home>com.example.framework.messaging.LocalServiceHome</local-home>
            <local>com.example.framework.messaging.LocalService</local>
            <ejb-class>com.example.app.service.order.search.OrderSearchHandlerBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <env-entry>
                <env-entry-name>policy</env-entry-name>
                <env-entry-type>java.lang.String</env-entry-type>
                <env-entry-value>OrderSearch</env-entry-value>
            </env-entry>
        </session>
        
        <session>
            <ejb-name>OrderChangeService</ejb-name>
            <home>com.example.app.service.order.change.OrderChangeServiceHome</home>
            <remote>com.example.app.service.order.change.OrderChangeService</remote>
            <ejb-class>com.example.app.service.order.change.OrderChangeServiceBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <env-entry>
                <env-entry-name>policy</env-entry-name>
                <env-entry-type>java.lang.String</env-entry-type>
                <env-entry-value>OrderChangeService</env-entry-value>
            </env-entry>
        </session>
        
        <!-- Beans demonstrating class reuse pattern #4: OrderImportServiceBean used by 2 beans -->
        <session>
            <ejb-name>OrderImportService</ejb-name>
            <home>com.example.app.service.order.import.OrderImportServiceHome</home>
            <remote>com.example.app.service.order.import.OrderImportService</remote>
            <ejb-class>com.example.app.service.order.import.OrderImportServiceBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <env-entry>
                <env-entry-name>policy</env-entry-name>
                <env-entry-type>java.lang.String</env-entry-type>
                <env-entry-value>OrderImportService</env-entry-value>
            </env-entry>
        </session>
        <session>
            <ejb-name>OrderHistoryImportService</ejb-name>
            <home>com.example.app.service.order.import.OrderImportServiceHome</home>
            <remote>com.example.app.service.order.import.OrderImportService</remote>
            <ejb-class>com.example.app.service.order.import.OrderImportServiceBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <env-entry>
                <env-entry-name>policy</env-entry-name>
                <env-entry-type>java.lang.String</env-entry-type>
                <env-entry-value>OrderHistoryImportService</env-entry-value>
            </env-entry>
        </session>
        
        <session>
            <ejb-name>OrderExternalBookService</ejb-name>
            <home>com.example.app.service.order.book.external.OrderExternalBookServiceHome</home>
            <remote>com.example.app.service.order.book.external.OrderExternalBookService</remote>
            <ejb-class>com.example.app.service.order.book.external.OrderExternalBookServiceBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <env-entry>
                <env-entry-name>policy</env-entry-name>
                <env-entry-type>java.lang.String</env-entry-type>
                <env-entry-value>OrderExternalBookService</env-entry-value>
            </env-entry>
        </session>
        <session>
            <ejb-name>LocalOrderExternalBookService</ejb-name>
            <local-home>com.example.framework.messaging.LocalServiceHome</local-home>
            <local>com.example.framework.messaging.LocalService</local>
            <ejb-class>com.example.app.service.order.book.external.OrderExternalBookServiceBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <env-entry>
                <env-entry-name>policy</env-entry-name>
                <env-entry-type>java.lang.String</env-entry-type>
                <env-entry-value>OrderExternalBookService</env-entry-value>
            </env-entry>
        </session>
        
        <session>
            <ejb-name>OrderEventRetrievalService</ejb-name>
            <home>com.example.app.service.order.retrieve.OrderEventRetrievalServiceHome</home>
            <remote>com.example.app.service.order.retrieve.OrderEventRetrievalService</remote>
            <ejb-class>com.example.app.service.order.retrieve.OrderEventRetrievalServiceBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <env-entry>
                <env-entry-name>policy</env-entry-name>
                <env-entry-type>java.lang.String</env-entry-type>
                <env-entry-value>OrderEventRetrievalService</env-entry-value>
            </env-entry>
        </session>
        
        <session>
            <ejb-name>OrderPrimaryAddOnService</ejb-name>
            <home>com.example.app.service.order.addon.OrderPrimaryAddOnServiceHome</home>
            <remote>com.example.app.service.order.addon.OrderPrimaryAddOnService</remote>
            <ejb-class>com.example.app.service.order.addon.OrderPrimaryAddOnServiceBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <env-entry>
                <env-entry-name>policy</env-entry-name>
                <env-entry-type>java.lang.String</env-entry-type>
                <env-entry-value>OrderPrimaryAddOnService</env-entry-value>
            </env-entry>
        </session>
        <session>
            <ejb-name>OrderSecondaryAddOnService</ejb-name>
            <home>com.example.app.service.order.addon.OrderSecondaryAddOnServiceHome</home>
            <remote>com.example.app.service.order.addon.OrderSecondaryAddOnService</remote>
            <ejb-class>com.example.app.service.order.addon.OrderSecondaryAddOnServiceBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <env-entry>
                <env-entry-name>policy</env-entry-name>
                <env-entry-type>java.lang.String</env-entry-type>
                <env-entry-value>OrderSecondaryAddOnService</env-entry-value>
            </env-entry>
        </session>
        
        <session>
            <ejb-name>OrderSyncPrimaryComponentsService</ejb-name>
            <home>com.example.app.service.order.sync.primary.OrderSyncPrimaryComponentsServiceHome</home>
            <remote>com.example.app.service.order.sync.primary.OrderSyncPrimaryComponentsService</remote>
            <ejb-class>com.example.app.service.order.sync.primary.OrderSyncPrimaryComponentsServiceBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <env-entry>
                <env-entry-name>policy</env-entry-name>
                <env-entry-type>java.lang.String</env-entry-type>
                <env-entry-value>OrderSyncPrimaryComponentsService</env-entry-value>
            </env-entry>
        </session>
        <session>
            <ejb-name>OrderSyncSecondaryComponentsService</ejb-name>
            <home>com.example.app.service.order.sync.secondary.OrderSyncSecondaryComponentsServiceHome</home>
            <remote>com.example.app.service.order.sync.secondary.OrderSyncSecondaryComponentsService</remote>
            <ejb-class>com.example.app.service.order.sync.secondary.OrderSyncSecondaryComponentsServiceBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <env-entry>
                <env-entry-name>policy</env-entry-name>
                <env-entry-type>java.lang.String</env-entry-type>
                <env-entry-value>OrderSyncSecondaryComponentsService</env-entry-value>
            </env-entry>
        </session>
        
        <session>
            <ejb-name>OrderLoggingService</ejb-name>
            <home>com.example.app.service.order.logging.OrderLoggingServiceHome</home>
            <remote>com.example.app.service.order.logging.OrderLoggingService</remote>
            <ejb-class>com.example.app.service.order.logging.OrderLoggingServiceBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <env-entry>
                <env-entry-name>policy</env-entry-name>
                <env-entry-type>java.lang.String</env-entry-type>
                <env-entry-value>OrderLoggingService</env-entry-value>
            </env-entry>
        </session>
        
        <!-- Bean with Bean-Managed Transaction (BMT) - Important for migration complexity -->
        <session>
            <ejb-name>OrderSearchAdaptorService</ejb-name>
            <home>com.example.app.service.order.search.adaptor.OrderSearchAdaptorServiceHome</home>
            <remote>com.example.app.service.order.search.adaptor.OrderSearchAdaptorService</remote>
            <ejb-class>com.example.app.service.order.search.adaptor.OrderSearchAdaptorServiceBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Bean</transaction-type>
            <env-entry>
                <env-entry-name>policy</env-entry-name>
                <env-entry-type>java.lang.String</env-entry-type>
                <env-entry-value>OrderSearchAdaptorService</env-entry-value>
            </env-entry>
        </session>
        
        <!-- Another Bean with Bean-Managed Transaction (BMT) -->
        <session>
            <ejb-name>DataSyncService</ejb-name>
            <home>com.example.app.service.order.sync.DataSyncServiceHome</home>
            <remote>com.example.app.service.order.sync.DataSyncService</remote>
            <ejb-class>com.example.app.service.order.sync.DataSyncServiceBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Bean</transaction-type>
            <env-entry>
                <env-entry-name>policy</env-entry-name>
                <env-entry-type>java.lang.String</env-entry-type>
                <env-entry-value>DataSyncService</env-entry-value>
            </env-entry>
        </session>
    </enterprise-beans>
    <assembly-descriptor>
        <!-- Bean with different transaction attribute (Supports) -->
        <container-transaction>
            <method>
                <ejb-name>OrderUpdateService</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <trans-attribute>Supports</trans-attribute>
        </container-transaction>
        
        <!-- All other beans use NotSupported -->
        <container-transaction>
            <method>
                <ejb-name>OrderCreateService</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>OrderRetrievalService</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>OrderHistoryRetrievalService</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>OrderPaymentService</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>OrderBookService</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        
        <!-- Local interface method transactions -->
        <container-transaction>
            <method>
                <ejb-name>LocalOrderBookService</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>*</method-name>
            </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>LocalOrderPriceService</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>*</method-name>
            </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>OrderSyncService</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>LocalOrderSyncService</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>*</method-name>
            </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>OrderSearchService</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>OrderSearch</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>LocalOrderSearch</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>*</method-name>
            </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>OrderChangeService</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>OrderImportService</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>OrderHistoryImportService</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>OrderExternalBookService</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>LocalOrderExternalBookService</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>*</method-name>
            </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>OrderEventRetrievalService</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>OrderPrimaryAddOnService</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>OrderSecondaryAddOnService</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>OrderSyncPrimaryComponentsService</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>OrderSyncSecondaryComponentsService</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>OrderLoggingService</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>OrderSearchAdaptorService</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>DataSyncService</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
    </assembly-descriptor>
</ejb-jar>
