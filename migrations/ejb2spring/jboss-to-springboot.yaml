# JBoss EJB 2 to Spring Boot Migration Plan
# Main plan file with includes for modular organization
#
# This is the primary entry point for the EJB 2 to Spring Boot migration.
# It uses the include mechanism to load common configuration and phase-specific tasks.
#
# Usage:
#   analyzer apply --project /path/to/project --plan migrations/ejb2spring/jboss-to-springboot.yaml

migration-plan:
  name: "JBoss EJB 2 to Spring Boot Migration - Complete"
  version: "2.0.0"
  description: |
    Comprehensive, production-ready migration from JBoss EJB 2 to Spring Boot.
   
    
    Key Features:
    - AI-powered code generation and analysis
    - Pure JDBC approach (no JPA complexity)
    - Interactive validation at critical points
    - Optimized block type selection
    - Production-ready output
    
    This plan uses modular includes for maintainability:
    - common/: Shared metadata, variables, and templates
    - phases/: Modular phase-specific task definitions
  
  # Include common configuration and phase-specific tasks
  # Files are loaded in order and merged (later entries override earlier ones)
  includes:
    - "common/metadata.yaml"
    - "common/variables.yaml"
    - "phases/phase0-assessment.yaml"
    - "phases/phase1-initialization.yaml"
    # EJB Component Migration Phases (NEW - AI_ASSISTED_BATCH)
    - "phases/phase2-stateless-session-beans.yaml"
    - "phases/phase3-cmp-entity-beans.yaml"
    - "phases/phase4-bmp-entity-beans.yaml"
    - "phases/phase5-stateful-session-beans.yaml"
    - "phases/phase6-message-driven-beans.yaml"
    - "phases/phase7-ejb-interfaces-cleanup.yaml"
    - "phases/phase8-primary-key-classes.yaml"
    # Additional Refactoring Phases (NEW - AI_ASSISTED_BATCH)
    - "phases/phase9-jdbc-wrappers.yaml"
    - "phases/phase10-rest-apis.yaml"
    - "phases/phase11-soap-services.yaml"
    - "phases/phase12-antipatterns.yaml"
    # Legacy phase files (deprecated)
    #- "phases/phase1b-refactoring-setup.yaml"
    #- "phases/phase2-jdbc-migration.yaml"
    #- "phases/phase2b-entity-beans.yaml"
    #- "phases/phase3-session-beans.yaml"
    #- "phases/phase3b-3c-ejb-cleanup.yaml"
    #- "phases/phase4-8-integration.yaml"
    #- "phases/phase9-10-modernization.yaml"
#  
  # Additional metadata or variables can be defined here to override includes
  # (Currently empty - all config is in included files)
  
  # Phases will be loaded from the included files
  phases: []
